<!doctype html> 
<html ng-app="formExample">
<head> 
	<title>Hello AngularJS</title>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>		
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.1/angular-cookies.min.js"></script>   	
</head>
<body>
<div class="container">
	
</div>
<div class="container" ng-controller="ExampleController">
    <div class="row">
    <div class="col-sm-8">
    <img src="Logo.png" width="200px"/></div>
    <div class="col-sm-4">	
	<h4>{{mail}}
		<button type="button" class="btn btn-danger btn-xs" ng-click="logout()"><span class="glyphicon glyphicon-log-out"></span> LOGOUT</button>
	</h4>
	</div>
	</div>
	<h1>Items Details</h1>
	<table class="table">
	  <tr><th>Description</th><th>Quantity</th><th>Cost</th><th>Total</th></tr>
	  <tr ng-repeat="item in items">
	  <td>{{item.medicineName}}</td>
	  <td>{{item.quantity}}</td>
	  <td>{{item.price}}</td>
	  <td>{{item.quantity*item.price}}</td>
	  </tr>
	  <tr><td></td><td></td><th>Total :</th><th>{{order.amount| currency:"&#8377;"}}</th></tr>
	  <tr><td></td><td></td><th>VAT :</th><th>{{order.tax| currency:"&#8377;"}}</th></tr>
	  <tr><td></td><td></td><th>Shipping Cost :</th><th>{{order.shippingcost| currency:"&#8377;"}}</th></tr>
	  <tr><td></td><td></td><th>Total Amount :</th><th>{{order.amount+order.tax+order.shippingcost| currency:"&#8377;"}}</th></tr>
    </table>
    <div class="row">
    <div class="col-sm-4">
    <h1>Address Details</h1>   
    
    {{order.address}}
    </div>
    <div class="col-sm-3"></div>
    <div class="col-sm-4">
    <h1>Payment Options</h1>
    <div class="radio">
    <label><input type="radio" name="optradio">Cash on Delivery (COD)</label>
</div>
</div>
</div>
<div class="row text-center">
    <button type="button" class="btn btn-primary">Confirm Order</button>
    </div>
</div>
<script>
angular.module('formExample', ['ngCookies'])
.controller('ExampleController', ['$scope','$http','$cookies','$cookieStore','$window', function($scope,$http,$cookies,$cookieStore,$window) 
	{    
		$scope.mail=$cookieStore.get('email');
	    $scope.orderid=$cookieStore.get('orderid');  
		if($scope.mail==null)
		{
		window.location="login.html";
		};
	    $scope.logout=function()
	    {
		$cookieStore.remove("email");
		window.location="login.html";
	    };
	    $http.get('http://gshyam:8080/healthokapp/rest/orderitems/'+$scope.orderid).
        success(function(data) 
        {
           $scope.items=data; 
        });
	    $http.get('http://gshyam:8080/healthokapp/rest/order/'+$scope.orderid).
        success(function(data) 
        {
           $scope.order=data; 
        });
		
	}
]);
</script>	
</body>
</html>