<!doctype html> 
<html ng-app="formExample">
<head> 
	<title>Hello AngularJS</title>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>	
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>	
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-route.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.1/angular-cookies.min.js"></script> 
</head>
<body>
<div class="container">
	
</div>
<div class="container" ng-controller="ExampleController">
    <div class="row">
    	<div class="col-sm-8">
    	<img src="Logo.png" width="200px"/>
    	</div>
    	<div class="col-sm-4">	
		<br>
         <div class="dropdown">
  <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">{{mail}}
  <span class="caret"></span></button>
  <ul class="dropdown-menu">
    <li><a href="#">My Account</a></li>
    <li><a href="#">Change Password</a></li>
    <li><a href="#" ng-click="logout()">Logout</a></li>
  </ul>
  </div>
		</div>
	</div>
	<div class="row">
	<div class="col-sm-2">
	<div class="list-group">
  <a href="#/personal" class="list-group-item">Personal Information</a>
  <a href="#/orders" class="list-group-item">My Orders</a>
  <a href="#/cancel" class="list-group-item">Cancel Order</a>
</div>
	
	
	</div>
	<div class="col-sm-10 well" ng-view="">
	</div>
	</div>
</div>
<script>
var myApp=angular.module('formExample', ['ngCookies']);
myApp.controller('ExampleController', ['$scope','$http','$cookies','$cookieStore','$window', function($scope,$http,$cookies,$cookieStore,$window) 
{    
	$http.get('http://gshyam:8080/healthokapp/rest/personal/allorder/'+$scope.mail).
    success(function(data) {
        $scope.personalorders = data;
    });
	$scope.mail=$cookieStore.get('email'); 	
	$scope.logout=function()
	{
		$cookieStore.remove("email");
		window.location="login.html";
	};
	$scope.stt=false;
	$scope.showme=function (index)
	{
		 $scope.stt=true;
		 $scope.orderid=$scope.personalorders[index].orderId;
		 $http.get('http://gshyam:8080/healthokapp/rest/orderitems/'+$scope.orderid).
	        success(function(data) 
	        {
	           $scope.items=data; 
	        });
	};
}
]);
myApp.config(function ($routeProvider)
{
$routeProvider
.when('/personal',
		{
    	controller: 'ExampleController',
	    	templateUrl: 'personal.html'
	    })
.when('/orders',
		{
	    	controller: 'ExampleController',
	    	templateUrl: 'orders.html'
	    })
.when('/cancel',
		{
	    	controller: 'ExampleController',
	    	templateUrl: 'cancel.html'
	    })
});
</script>	
</body>
</html>