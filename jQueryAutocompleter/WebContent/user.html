<!doctype html> 
<html ng-app="forExample">
<head> 
	<title>Hello AngularJS</title>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>		
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.1/angular-cookies.min.js"></script> 
	<script src="mainjs.js"></script>	
</head>
<body>
<div class="container">
	
</div>
<div class="container" ng-controller="ExamController">
    <div class="row">
    <div class="col-sm-8">
    <img src="Logo.png" width="200px"/></div>
    <div class="col-sm-4">	
	<h4>{{mail}}
		<button type="button" class="btn btn-danger btn-xs" ng-click="logout()"><span class="glyphicon glyphicon-log-out"></span> LOGOUT</button>
	</h4>
	</div>
	</div>
	<div class="row">
	  <ul class="list-group">
    	<li class="list-group-item col-sm-3" ng-repeat="address in addresses" ng-click="filldata(name)">
			<div class="well">
				<h3>{{address.fullname}}</h3>
				{{address.housenumber}},
				{{address.street}},
				{{address.city}},
				{{address.state}},
				{{address.country}},
				{{address.pincode}},
				<br>
				{{address.phone}}
				<br>
				<button type="button"  class="btn btn-primary btn-xs " ng-click="deliver($index)">Deliver</button>
				<button type="button" class="btn btn-primary btn-xs" ng-click="edit($index)">EDIT</button>
				<button  type="button" class="btn btn-primary btn-xs" ng-click="deletion($index)">DELETE</button>
			</div>
		</li>
	 </ul>
	</div>
	<div>
	    <br>
		Full Name :
		<input type="text" class="form-control" ng-model="fname">
		Address line1 :
		<input type="text" class="form-control" ng-model="house">
		Address line2 :
		<input type="text" class="form-control" ng-model="street">
		City :
		<input type="text" class="form-control" ng-model="city">
		State : 
		<input type="text" class="form-control" ng-model="state">
		Country :
		<input type="text" class="form-control" ng-model="country">
		Pincode :
		<input type="text" class="form-control" ng-model="pincode">
		Phone No. :
		<input type="text" class="form-control" ng-model="phone">
		<br>
		<input type="submit" value="Deliver To This Address" class="form-control btn-primary" ng-click="sending()" ng-show=st>
		<div class="text-center">
		<button type="button"  class="btn btn-danger" ng-click="updateonly()" ng-hide=st>Update</button>
		<button type="button" class="btn btn-danger" ng-click="updating()" ng-hide=st>Update & Deliver to this Address</button>
		<button type="button" class="btn btn-danger" ng-click="Adding()" ng-hide=st>Add New Address</button>
	    </div>
	    <br>
	    <br>
	</div>
</div>
<<<<<<< HEAD

=======
<script>
angular.module('formExample', ['ngCookies'])
.controller('ExampleController', ['$scope','$http','$cookies','$cookieStore','$window', function($scope,$http,$cookies,$cookieStore,$window) 
	{    
		$scope.mail=$cookieStore.get('email'); 
		$scope.total=$cookieStore.get('total'); 
		$scope.vat=$cookieStore.get('vat'); 
		$scope.delivery=$cookieStore.get('delivery'); 
		
		if($scope.mail==null)
		{
		window.location="login.html";
		}
		$scope.deliver=function(index)
		{
			$http.get('http://gshyam:8080/healthokapp/rest/order/'+$scope.mail+'/'+$scope.total+'/'+$scope.vat+'/'+$scope.delivery+'/'+$scope.addresses[index+1].addressId).
	        success(function(datas) 
	        {
	        	$scope.order=datas;
	        	if($scope.order.status>0)
	            {
	        	$cookieStore.put('orderid',$scope.order.status); 
				window.location="details.html";
	            }
        	});
 
		}
		$scope.deletion =function(index)
		{
			$http.get('http://gshyam:8080/healthokapp/rest/address/delete/'+$scope.addresses[index+1].addressId).success(function(datas){
				$http.get('http://gshyam:8080/healthokapp/rest/address/'+$scope.mail).
		        success(function(data) {
		            $scope.addresses = data;
		        });
			});
			
		}
	    $scope.logout=function()
	    {
		$cookieStore.remove("email");
		window.location="login.html";
	    };
		$http.get('http://gshyam:8080/healthokapp/rest/address/'+$scope.mail).
        success(function(data) {
            $scope.addresses = data;
        });
		$scope.id=0;
		$scope.st=true;
		$scope.Adding= function()
		{
			$scope.st=true;
		}
		$scope.edit=function(index)
		{
		   $scope.st=false;
           $scope.house=$scope.addresses[index+1].housenumber;
           $scope.street=$scope.addresses[index+1].street;
           $scope.city=$scope.addresses[index+1].city;
           $scope.state=$scope.addresses[index+1].state;
           $scope.country=$scope.addresses[index+1].country;
           $scope.pincode=$scope.addresses[index+1].pincode;
		   $scope.fname=$scope.addresses[index+1].fullname;
		   $scope.phone=$scope.addresses[index+1].phone;
		   $scope.id=$scope.addresses[index+1].addressId;
		};
		 $scope.sending = function() {
			  
			    var email=$scope.mail;
		    	var house=$scope.house;
		    	var street=$scope.street;
		    	var city=$scope.city;
		    	var state=$scope.state;
		    	var country=$scope.country;
		    	var pincode=$scope.pincode;
		    	var fname=$scope.fname;
		    	var phone=$scope.phone;
		    	$http.get('http://gshyam:8080/healthokapp/rest/address/'+house+'/'+street+'/'+city+'/'+state+'/'+country+'/'+pincode+'/'+email+'/'+fname+'/'+phone).
		        success(function(data) 
		        {
		            $scope.greeting = data;
					if($scope.greeting.status>0)
		            	{
		            	$http.get('http://gshyam:8080/healthokapp/rest/order/'+$scope.mail+'/'+$scope.total+'/'+$scope.vat+'/'+$scope.delivery+'/'+$scope.greeting.status).
				        success(function(datas) 
				        {
				        	$scope.order=datas;
				        	if($scope.order.status>0)
				            {
				        	$cookieStore.put('orderid',$scope.order.status); 
							window.location="details.html";
				            }
		            	});
		            	}
		            	else
		            	{
		            		window.location="search.html";
		            	}
		        });
		 }
		 $scope.updating = function() {
			    var email=$scope.mail;
		    	var house=$scope.house;
		    	var street=$scope.street;
		    	var city=$scope.city;
		    	var state=$scope.state;
		    	var country=$scope.country;
		    	var pincode=$scope.pincode;
		    	var fname=$scope.fname;
		    	var phone=$scope.phone;
		    	$http.get('http://gshyam:8080/healthokapp/rest/address/update/'+house+'/'+street+'/'+city+'/'+state+'/'+country+'/'+pincode+'/'+$scope.id+'/'+fname+'/'+phone).
		        success(function(data) 
		        {
		            $scope.greeting = data;
		            	$http.get('http://gshyam:8080/healthokapp/rest/order/'+$scope.mail+'/'+$scope.total+'/'+$scope.vat+'/'+$scope.delivery+'/'+$scope.id).
				        success(function(datas) 
				        {
				        	$scope.order=datas;
				        	if($scope.order.status>0)
				            {
				        	$cookieStore.put('orderid',$scope.order.status); 
							window.location="details.html";
				            }
		            	});
		            
		        });
		 }
		 $scope.updateonly = function() 
		 {
			    var email=$scope.mail;
		    	var house=$scope.house;
		    	var street=$scope.street;
		    	var city=$scope.city;
		    	var state=$scope.state;
		    	var country=$scope.country;
		    	var pincode=$scope.pincode;
		    	var fname=$scope.fname;
		    	var phone=$scope.phone;
		    	$http.get('http://gshyam:8080/healthokapp/rest/address/update/'+house+'/'+street+'/'+city+'/'+state+'/'+country+'/'+pincode+'/'+$scope.id+'/'+fname+'/'+phone).
		        success(function(data) 
		        {
		            $scope.greeting = data;
		            $http.get('http://gshyam:8080/healthokapp/rest/address/'+$scope.mail).
				    success(function(datas) 
				    {
				       $scope.addresses=datas;
		            });
		            
		        });
		 }
	}
]);
</script>	
>>>>>>> origin/master
</body>
</html>